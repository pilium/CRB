"use strict";document.addEventListener("DOMContentLoaded",function(){function e(){var e=new Date,t={year:"numeric",month:"long",day:"numeric"};document.querySelector(".js-footer-info__date").innerHTML=e.toLocaleString("ru",t)}var t=document.getElementById("preloader");t&&setTimeout(function(){t.classList.add("active"),document.body.style.overflow="visible"},3e3);var o=document.querySelector(".header-actions__search"),n=o.querySelector(".icon-magnifier-tool"),s=o.querySelector("[type=text]"),a=document.querySelector(".swiper-container"),l=document.getElementById("map"),c=document.querySelector(".js-header-info__writeToUs-link"),i=document.querySelector(".modal"),r=i.querySelector(".modal-close__btn"),d=i.querySelector("[name=login]");if(a){new Swiper(".swiper-container",{loop:!0,parallax:!0,autoplay:{delay:5e3},speed:1e3,mousewheelControl:!0}),new Swiper(".blog-slider",{spaceBetween:30,effect:"fade",loop:!0,grabCursor:!0,autoplay:{delay:2e3},pagination:{el:".blog-slider__pagination",clickable:!0}})}if(l){var u=function(){var e=new ymaps.Map("map",{center:[47.5396,42.0151],controls:["typeSelector","fullscreenControl","geolocationControl","rulerControl","routeButtonControl"],zoom:16});e.controls.get("routeButtonControl").routePanel.state.set("from","Романовская союзный 97а");var t=new ymaps.Placemark([47.5398,42.0153],{hintContent:"Ул. Союзная 97а",balloonContent:"Поликлиника"},{preset:"islands#blueMedicalIcon"});e.geoObjects.add(t)};ymaps.ready(u)}var m=document.querySelector(".wrapper-menu"),g=document.querySelector(".sidenav"),v=document.querySelector(".sidenav-overlay");m.addEventListener("click",function(){m.classList.toggle("open"),g.classList.toggle("show"),v.classList.toggle("show")}),document.addEventListener("click",function(e){e.target.classList.contains("sidenav-overlay")&&(m.classList.toggle("open"),g.classList.toggle("show"),v.classList.toggle("show"))});var p,f=document.getElementsByClassName("collapsible-header");for(p=0;p<f.length;p++)f[p].addEventListener("click",function(e){e.preventDefault(),this.classList.toggle("active"),this.nextElementSibling.classList.toggle("active")});setTimeout(e,100),function(){n.addEventListener("click",function(){e(),s.focus()}),document.addEventListener("keydown",function(e){27==e.keyCode&&o.classList.contains("active")&&o.classList.remove("active")}),document.addEventListener("click",function(t){var n=t.target,s=n==o||o.contains(n),a=o.classList.contains("active");!s&&a&&e()});var e=function(){o.classList.toggle("active")}}(),function(){var e=document.querySelector(".modal-overlay");c.addEventListener("click",function(t){t.preventDefault(),i.classList.toggle("modal-show"),e.classList.toggle("show"),d.focus()}),r.addEventListener("click",function(t){t.preventDefault(),i.classList.remove("modal-show"),e.classList.toggle("show")}),document.addEventListener("click",function(t){t.target.classList.contains("modal-overlay")&&(i.classList.remove("modal-show"),e.classList.toggle("show"))})}();new Swiper(".news-slider",{effect:"coverflow",grabCursor:!0,loop:!0,centeredSlides:!0,keyboard:!0,spaceBetween:0,slidesPerView:"auto",speed:300,coverflowEffect:{rotate:0,stretch:0,depth:0,modifier:3,slideShadows:!1},breakpoints:{480:{spaceBetween:0,centeredSlides:!0}},simulateTouch:!0,navigation:{nextEl:".news-slider-next",prevEl:".news-slider-prev"},pagination:{el:".news-slider__pagination",clickable:!0}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJhZGRUaW1lRm9vdGVyIiwiZGF0ZSIsIkRhdGUiLCJvcHRpb25zIiwieWVhciIsIm1vbnRoIiwiZGF5IiwicXVlcnlTZWxlY3RvciIsImlubmVySFRNTCIsInRvTG9jYWxlU3RyaW5nIiwicHJlbG9hZGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJzZXRUaW1lb3V0IiwiY2xhc3NMaXN0IiwiYWRkIiwiYm9keSIsInN0eWxlIiwib3ZlcmZsb3ciLCJjb250YWluZXIiLCJzZWFyY2giLCJpbnB1dCIsInNsaWRlckNvbnRhaW5lciIsIm1hcENvbnRhaW5lciIsImxpbmsiLCJwb3B1cCIsImNsb3NlIiwibG9naW4iLCJTd2lwZXIiLCJsb29wIiwicGFyYWxsYXgiLCJhdXRvcGxheSIsImRlbGF5Iiwic3BlZWQiLCJtb3VzZXdoZWVsQ29udHJvbCIsInNwYWNlQmV0d2VlbiIsImVmZmVjdCIsImdyYWJDdXJzb3IiLCJwYWdpbmF0aW9uIiwiZWwiLCJjbGlja2FibGUiLCJpbml0IiwibXlNYXAiLCJ5bWFwcyIsIk1hcCIsImNlbnRlciIsImNvbnRyb2xzIiwiem9vbSIsImdldCIsInJvdXRlUGFuZWwiLCJzdGF0ZSIsInNldCIsIm15UGxhY2VtYXJrIiwiUGxhY2VtYXJrIiwiaGludENvbnRlbnQiLCJiYWxsb29uQ29udGVudCIsInByZXNldCIsImdlb09iamVjdHMiLCJyZWFkeSIsIndyYXBwZXJNZW51Iiwic2lkZW5hdiIsIm92ZXJsYXkiLCJ0b2dnbGUiLCJlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJpIiwiYWNjIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImxlbmd0aCIsInByZXZlbnREZWZhdWx0IiwidGhpcyIsIm5leHRFbGVtZW50U2libGluZyIsInRvZ2dsZV9zZWFyY2hfY2xhc3MiLCJmb2N1cyIsImV2ZW50Iiwia2V5Q29kZSIsInJlbW92ZSIsIml0c19jb250YWluZXIiLCJzZWFyY2hfaXNfYWN0aXZlIiwiY2VudGVyZWRTbGlkZXMiLCJrZXlib2FyZCIsInNsaWRlc1BlclZpZXciLCJjb3ZlcmZsb3dFZmZlY3QiLCJyb3RhdGUiLCJzdHJldGNoIiwiZGVwdGgiLCJtb2RpZmllciIsInNsaWRlU2hhZG93cyIsImJyZWFrcG9pbnRzIiwiNDgwIiwic2ltdWxhdGVUb3VjaCIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiXSwibWFwcGluZ3MiOiJBQUFBLFlBRUFBLFVBQUFDLGlCQUFBLG1CQUFBLFdBZ0lBLFFBQUFDLEtBQ0EsR0FBQUMsR0FBQSxHQUFBQyxNQUNBQyxHQUNBQyxLQUFBLFVBQ0FDLE1BQUEsT0FDQUMsSUFBQSxVQUVBUixVQUFBUyxjQUFBLHlCQUNBQyxVQUFBUCxFQUFBUSxlQUFBLEtBQUFOLEdBdElBLEdBQUFPLEdBQUFaLFNBQUFhLGVBQUEsWUFFQUQsSUFDQUUsV0FBQSxXQUNBRixFQUFBRyxVQUFBQyxJQUFBLFVBQ0FoQixTQUFBaUIsS0FBQUMsTUFBQUMsU0FBQSxXQUNBLElBSUEsSUFBQUMsR0FBQXBCLFNBQUFTLGNBQUEsMkJBQ0FZLEVBQUFELEVBQUFYLGNBQUEsd0JBQ0FhLEVBQUFGLEVBQUFYLGNBQUEsZUFDQWMsRUFBQXZCLFNBQUFTLGNBQUEscUJBQ0FlLEVBQUF4QixTQUFBYSxlQUFBLE9BQ0FZLEVBQUF6QixTQUFBUyxjQUFBLG1DQUNBaUIsRUFBQTFCLFNBQUFTLGNBQUEsVUFDQWtCLEVBQUFELEVBQUFqQixjQUFBLHFCQUNBbUIsRUFBQUYsRUFBQWpCLGNBQUEsZUE2REEsSUFBQWMsRUFDQSxDQUFBLEdBQUFNLFFBQUEscUJBQ0FDLE1BQUEsRUFDQUMsVUFBQSxFQUNBQyxVQUNBQyxNQUFBLEtBRUFDLE1BQUEsSUFDQUMsbUJBQUEsSUFFQSxHQUFBTixRQUFBLGdCQUNBTyxhQUFBLEdBQ0FDLE9BQUEsT0FDQVAsTUFBQSxFQUNBUSxZQUFBLEVBQ0FOLFVBQ0FDLE1BQUEsS0FHQU0sWUFDQUMsR0FBQSwyQkFDQUMs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ZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uICgpIHtcbiAgLy8gcHJlbG9hZGVyXG4gIHZhciBwcmVsb2FkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJlbG9hZGVyJyk7XG5cbiAgaWYgKHByZWxvYWRlcikge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgcHJlbG9hZGVyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICB9LCAzMDAwKTtcbiAgfSAvLyBFTkQgUHJlbG9hZGVyXG5cblxuICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1hY3Rpb25zX19zZWFyY2gnKTtcbiAgdmFyIHNlYXJjaCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuaWNvbi1tYWduaWZpZXItdG9vbCcpO1xuICB2YXIgaW5wdXQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcihcIlt0eXBlPXRleHRdXCIpO1xuICB2YXIgc2xpZGVyQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN3aXBlci1jb250YWluZXInKTtcbiAgdmFyIG1hcENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKTtcbiAgdmFyIGxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLWhlYWRlci1pbmZvX193cml0ZVRvVXMtbGlua1wiKTtcbiAgdmFyIHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbFwiKTtcbiAgdmFyIGNsb3NlID0gcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1jbG9zZV9fYnRuXCIpO1xuICB2YXIgbG9naW4gPSBwb3B1cC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9bG9naW5dXCIpO1xuXG4gIHZhciBzZWFyY2hfdG9nZ2xlID0gZnVuY3Rpb24gc2VhcmNoX3RvZ2dsZSgpIHtcbiAgICBzZWFyY2guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0b2dnbGVfc2VhcmNoX2NsYXNzKCk7XG4gICAgICBpbnB1dC5mb2N1cygpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMjcpIHtcbiAgICAgICAgaWYgKGNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcbiAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgIHZhciBpdHNfY29udGFpbmVyID0gdGFyZ2V0ID09IGNvbnRhaW5lciB8fCBjb250YWluZXIuY29udGFpbnModGFyZ2V0KTtcbiAgICAgIHZhciBzZWFyY2hfaXNfYWN0aXZlID0gY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyk7XG5cbiAgICAgIGlmICghaXRzX2NvbnRhaW5lciAmJiBzZWFyY2hfaXNfYWN0aXZlKSB7XG4gICAgICAgIHRvZ2dsZV9zZWFyY2hfY2xhc3MoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciB0b2dnbGVfc2VhcmNoX2NsYXNzID0gZnVuY3Rpb24gdG9nZ2xlX3NlYXJjaF9jbGFzcygpIHtcbiAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBtb2RhbCA9IGZ1bmN0aW9uIG1vZGFsKCkge1xuICAgIHZhciBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLW92ZXJsYXknKTtcbiAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBwb3B1cC5jbGFzc0xpc3QudG9nZ2xlKFwibW9kYWwtc2hvd1wiKTtcbiAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdycpO1xuICAgICAgbG9naW4uZm9jdXMoKTtcbiAgICB9KTtcbiAgICBjbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsLXNob3dcIik7XG4gICAgICBvdmVybGF5LmNsYXNzTGlzdC50b2dnbGUoJ3Nob3cnKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbC1vdmVybGF5JykpIHtcbiAgICAgICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsLXNob3dcIik7XG4gICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdycpO1xuICAgICAgfVxuICAgIH0pO1xuICB9OyAvLyBpZiAoc2xpZGVyQ29udGFpbmVyKSB7XG4gIC8vICAgICBuZXcgR2xpZGUoc2xpZGVyQ29udGFpbmVyLCB7XG4gIC8vICAgICB0eXBlOiAnc2xpZGVyJyxcbiAgLy8gICAgIGF1dG9wbGF5OiA4MDAwLFxuICAvLyAgICAga2V5Ym9yZDogdHJ1ZSxcbiAgLy8gICAgIGhvdmVycGF1c2U6IHRydWUsXG4gIC8vICAgICByZXdpbmQ6IHRydWUsXG4gIC8vICAgICByZXdpbmREdXJhdGlvbjogMTAwMCxcbiAgLy8gICAgIGFuaW1hdGlvblRpbWluZ0Z1bmM6ICdib3VuY2UnXG4gIC8vIH0pLm1vdW50KCk7XG4gIC8vIH1cblxuXG4gIGlmIChzbGlkZXJDb250YWluZXIpIHtcbiAgICB2YXIgbXlTd2lwZXIgPSBuZXcgU3dpcGVyKCcuc3dpcGVyLWNvbnRhaW5lcicsIHtcbiAgICAgIGxvb3A6IHRydWUsXG4gICAgICBwYXJhbGxheDogdHJ1ZSxcbiAgICAgIGF1dG9wbGF5OiB7XG4gICAgICAgIGRlbGF5OiA1MDAwXG4gICAgICB9LFxuICAgICAgc3BlZWQ6IDEwMDAsXG4gICAgICBtb3VzZXdoZWVsQ29udHJvbDogdHJ1ZVxuICAgIH0pO1xuICAgIHZhciBzd2lwZXIgPSBuZXcgU3dpcGVyKCcuYmxvZy1zbGlkZXInLCB7XG4gICAgICBzcGFjZUJldHdlZW46IDMwLFxuICAgICAgZWZmZWN0OiAnZmFkZScsXG4gICAgICBsb29wOiB0cnVlLFxuICAgICAgZ3JhYkN1cnNvcjogdHJ1ZSxcbiAgICAgIGF1dG9wbGF5OiB7XG4gICAgICAgIGRlbGF5OiAyMDAwXG4gICAgICB9LFxuICAgICAgLy8gYXV0b0hlaWdodDogdHJ1ZSxcbiAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgZWw6ICcuYmxvZy1zbGlkZXJfX3BhZ2luYXRpb24nLFxuICAgICAgICBjbGlja2FibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChtYXBDb250YWluZXIpIHtcbiAgICB2YXIgaW5pdCA9IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICB2YXIgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwibWFwXCIsIHtcbiAgICAgICAgY2VudGVyOiBbNDcuNTM5NiwgNDIuMDE1MV0sXG4gICAgICAgIGNvbnRyb2xzOiBbJ3R5cGVTZWxlY3RvcicsICdmdWxsc2NyZWVuQ29udHJvbCcsICdnZW9sb2NhdGlvbkNvbnRyb2wnLCAncnVsZXJDb250cm9sJywgJ3JvdXRlQnV0dG9uQ29udHJvbCddLFxuICAgICAgICB6b29tOiAxNlxuICAgICAgfSk7XG4gICAgICB2YXIgY29udHJvbCA9IG15TWFwLmNvbnRyb2xzLmdldCgncm91dGVCdXR0b25Db250cm9sJyk7XG4gICAgICBjb250cm9sLnJvdXRlUGFuZWwuc3RhdGUuc2V0KCdmcm9tJywgJ9Cg0L7QvNCw0L3QvtCy0YHQutCw0Y8g0YHQvtGO0LfQvdGL0LkgOTfQsCcpO1xuICAgICAgdmFyIG15UGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNDcuNTM5OCwgNDIuMDE1M10sIHtcbiAgICAgICAgaGludENvbnRlbnQ6ICfQo9C7LiDQodC+0Y7Qt9C90LDRjyA5N9CwJyxcbiAgICAgICAgYmFsbG9vbkNvbnRlbnQ6ICfQn9C+0LvQuNC60LvQuNC90LjQutCwJ1xuICAgICAgfSwge1xuICAgICAgICBwcmVzZXQ6ICdpc2xhbmRzI2JsdWVNZWRpY2FsSWNvbidcbiAgICAgIH0pO1xuICAgICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlQbGFjZW1hcmspO1xuICAgIH07XG5cbiAgICB5bWFwcy5yZWFkeShpbml0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFRpbWVGb290ZXIoKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgbW9udGg6ICdsb25nJyxcbiAgICAgIGRheTogJ251bWVyaWMnXG4gICAgfTtcbiAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWZvb3Rlci1pbmZvX19kYXRlJyk7XG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IGRhdGUudG9Mb2NhbGVTdHJpbmcoXCJydVwiLCBvcHRpb25zKTtcbiAgfSAvLyBIYW1idXJnZXJcblxuXG4gIHZhciB3cmFwcGVyTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyLW1lbnUnKTtcbiAgdmFyIHNpZGVuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lkZW5hdicpO1xuICB2YXIgb3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlbmF2LW92ZXJsYXknKTtcbiAgd3JhcHBlck1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgd3JhcHBlck1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnb3BlbicpO1xuICAgIHNpZGVuYXYuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdycpO1xuICAgIG92ZXJsYXkuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdycpO1xuICB9KTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NpZGVuYXYtb3ZlcmxheScpKSB7XG4gICAgICB3cmFwcGVyTWVudS5jbGFzc0xpc3QudG9nZ2xlKCdvcGVuJyk7XG4gICAgICBzaWRlbmF2LmNsYXNzTGlzdC50b2dnbGUoJ3Nob3cnKTtcbiAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdycpO1xuICAgIH1cbiAgfSk7IC8vIGFjY29yZGlvblxuXG4gIHZhciBhY2MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY29sbGFwc2libGUtaGVhZGVyXCIpO1xuICB2YXIgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgYWNjLmxlbmd0aDsgaSsrKSB7XG4gICAgYWNjW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgLyogVG9nZ2xlIGJldHdlZW4gYWRkaW5nIGFuZCByZW1vdmluZyB0aGUgXCJhY3RpdmVcIiBjbGFzcyxcclxuICAgICAgdG8gaGlnaGxpZ2h0IHRoZSBidXR0b24gdGhhdCBjb250cm9scyB0aGUgcGFuZWwgKi9cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcbiAgICAgIC8qIFRvZ2dsZSBiZXR3ZWVuIGhpZGluZyBhbmQgc2hvd2luZyB0aGUgYWN0aXZlIHBhbmVsICovXG5cbiAgICAgIHZhciBwYW5lbCA9IHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgcGFuZWwuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gICAgfSk7XG4gIH1cblxuICBzZXRUaW1lb3V0KGFkZFRpbWVGb290ZXIsIDEwMCk7XG4gIHNlYXJjaF90b2dnbGUoKTtcbiAgbW9kYWwoKTsgLy8gc3dpcGVyIHNsaWRlcnRlc3RcblxuICB2YXIgc3dpcGVyID0gbmV3IFN3aXBlcignLm5ld3Mtc2xpZGVyJywge1xuICAgIGVmZmVjdDogJ2NvdmVyZmxvdycsXG4gICAgZ3JhYkN1cnNvcjogdHJ1ZSxcbiAgICBsb29wOiB0cnVlLFxuICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuICAgIGtleWJvYXJkOiB0cnVlLFxuICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgc3BlZWQ6IDMwMCxcbiAgICBjb3ZlcmZsb3dFZmZlY3Q6IHtcbiAgICAgIHJvdGF0ZTogMCxcbiAgICAgIHN0cmV0Y2g6IDAsXG4gICAgICBkZXB0aDogMCxcbiAgICAgIG1vZGlmaWVyOiAzLFxuICAgICAgc2xpZGVTaGFkb3dzOiBmYWxzZVxuICAgIH0sXG4gICAgYnJlYWtwb2ludHM6IHtcbiAgICAgIDQ4MDoge1xuICAgICAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBzaW11bGF0ZVRvdWNoOiB0cnVlLFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogJy5uZXdzLXNsaWRlci1uZXh0JyxcbiAgICAgIHByZXZFbDogJy5uZXdzLXNsaWRlci1wcmV2J1xuICAgIH0sXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6ICcubmV3cy1zbGlkZXJfX3BhZ2luYXRpb24nLFxuICAgICAgY2xpY2thYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbn0pOyJdfQ==
