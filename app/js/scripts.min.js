"use strict";

document.addEventListener("DOMContentLoaded", function () {
  // preloader
  var preloader = document.getElementById('preloader');

  if (preloader) {
    setTimeout(function () {
      preloader.classList.add('active');
      document.body.style.overflow = 'visible';
    }, 3000);
  } // END Preloader


  var container = document.querySelector('.header-actions__search');
  var search = container.querySelector('.icon-magnifier-tool');
  var input = container.querySelector("[type=text]");
  var sliderContainer = document.querySelector('.swiper-container');
  var mapContainer = document.getElementById('map');
  var link = document.querySelector(".js-header-info__writeToUs-link");
  var popup = document.querySelector(".modal");
  var close = popup.querySelector(".modal-close__btn");
  var login = popup.querySelector("[name=login]");

  var search_toggle = function search_toggle() {
    search.addEventListener('click', function () {
      toggle_search_class();
      input.focus();
    });
    document.addEventListener("keydown", function (event) {
      if (event.keyCode == 27) {
        if (container.classList.contains("active")) {
          container.classList.remove("active");
        }
      }
    });
    document.addEventListener('click', function (e) {
      var target = e.target;
      var its_container = target == container || container.contains(target);
      var search_is_active = container.classList.contains('active');

      if (!its_container && search_is_active) {
        toggle_search_class();
      }
    });

    var toggle_search_class = function toggle_search_class() {
      container.classList.toggle('active');
    };
  };

  var modal = function modal() {
    link.addEventListener("click", function (event) {
      event.preventDefault();
      popup.classList.toggle("modal-show");
      login.focus();
    });
    close.addEventListener("click", function (event) {
      event.preventDefault();
      popup.classList.remove("modal-show");
    });
  }; // if (sliderContainer) {
  //     new Glide(sliderContainer, {
  //     type: 'slider',
  //     autoplay: 8000,
  //     keybord: true,
  //     hoverpause: true,
  //     rewind: true,
  //     rewindDuration: 1000,
  //     animationTimingFunc: 'bounce'
  // }).mount();
  // }


  if (sliderContainer) {
    var mySwiper = new Swiper('.swiper-container', {
      loop: true,
      parallax: true,
      autoplay: {
        delay: 5000
      },
      speed: 1000,
      mousewheelControl: true
    });
    var swiper = new Swiper('.blog-slider', {
      spaceBetween: 30,
      effect: 'fade',
      loop: true,
      grabCursor: true,
      autoplay: {
        delay: 2000
      },
      // autoHeight: true,
      pagination: {
        el: '.blog-slider__pagination',
        clickable: true
      }
    });
  }

  if (mapContainer) {
    var init = function init() {
      var myMap = new ymaps.Map("map", {
        center: [47.5396, 42.0151],
        controls: ['typeSelector', 'fullscreenControl', 'geolocationControl', 'rulerControl', 'routeButtonControl'],
        zoom: 16
      });
      var control = myMap.controls.get('routeButtonControl');
      control.routePanel.state.set('from', 'Романовская союзный 97а');
      var myPlacemark = new ymaps.Placemark([47.5398, 42.0153], {
        hintContent: 'Ул. Союзная 97а',
        balloonContent: 'Поликлиника'
      }, {
        preset: 'islands#blueMedicalIcon'
      });
      myMap.geoObjects.add(myPlacemark);
    };

    ymaps.ready(init);
  }

  function addTimeFooter() {
    var date = new Date();
    var options = {
      year: 'numeric',
      month: 'long',
      day: 'numeric'
    };
    var container = document.querySelector('.js-footer-info__date');
    container.innerHTML = date.toLocaleString("ru", options);
  } // Hamburger


  var wrapperMenu = document.querySelector('.wrapper-menu');
  var sidenav = document.querySelector('.sidenav');
  var overlay = document.querySelector('.sidenav-overlay');
  wrapperMenu.addEventListener('click', function () {
    wrapperMenu.classList.toggle('open');
    sidenav.classList.toggle('show');
    overlay.classList.toggle('show');
  });
  document.addEventListener('click', function (e) {
    console.log(e);

    if (e.target.classList.contains('sidenav-overlay')) {
      wrapperMenu.classList.toggle('open');
      sidenav.classList.toggle('show');
      overlay.classList.toggle('show');
    }
  });
  setTimeout(addTimeFooter, 100);
  search_toggle();
  modal();
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoKSB7XG4gIC8vIHByZWxvYWRlclxuICB2YXIgcHJlbG9hZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZWxvYWRlcicpO1xuXG4gIGlmIChwcmVsb2FkZXIpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHByZWxvYWRlci5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgfSwgMzAwMCk7XG4gIH0gLy8gRU5EIFByZWxvYWRlclxuXG5cbiAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItYWN0aW9uc19fc2VhcmNoJyk7XG4gIHZhciBzZWFyY2ggPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmljb24tbWFnbmlmaWVyLXRvb2wnKTtcbiAgdmFyIGlucHV0ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCJbdHlwZT10ZXh0XVwiKTtcbiAgdmFyIHNsaWRlckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItY29udGFpbmVyJyk7XG4gIHZhciBtYXBDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyk7XG4gIHZhciBsaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1oZWFkZXItaW5mb19fd3JpdGVUb1VzLWxpbmtcIik7XG4gIHZhciBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxcIik7XG4gIHZhciBjbG9zZSA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY2xvc2VfX2J0blwiKTtcbiAgdmFyIGxvZ2luID0gcG9wdXAucXVlcnlTZWxlY3RvcihcIltuYW1lPWxvZ2luXVwiKTtcblxuICB2YXIgc2VhcmNoX3RvZ2dsZSA9IGZ1bmN0aW9uIHNlYXJjaF90b2dnbGUoKSB7XG4gICAgc2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgdG9nZ2xlX3NlYXJjaF9jbGFzcygpO1xuICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDI3KSB7XG4gICAgICAgIGlmIChjb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XG4gICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICB2YXIgaXRzX2NvbnRhaW5lciA9IHRhcmdldCA9PSBjb250YWluZXIgfHwgY29udGFpbmVyLmNvbnRhaW5zKHRhcmdldCk7XG4gICAgICB2YXIgc2VhcmNoX2lzX2FjdGl2ZSA9IGNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpO1xuXG4gICAgICBpZiAoIWl0c19jb250YWluZXIgJiYgc2VhcmNoX2lzX2FjdGl2ZSkge1xuICAgICAgICB0b2dnbGVfc2VhcmNoX2NsYXNzKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdG9nZ2xlX3NlYXJjaF9jbGFzcyA9IGZ1bmN0aW9uIHRvZ2dsZV9zZWFyY2hfY2xhc3MoKSB7XG4gICAgICBjb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgbW9kYWwgPSBmdW5jdGlvbiBtb2RhbCgpIHtcbiAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBwb3B1cC5jbGFzc0xpc3QudG9nZ2xlKFwibW9kYWwtc2hvd1wiKTtcbiAgICAgIGxvZ2luLmZvY3VzKCk7XG4gICAgfSk7XG4gICAgY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbC1zaG93XCIpO1xuICAgIH0pO1xuICB9OyAvLyBpZiAoc2xpZGVyQ29udGFpbmVyKSB7XG4gIC8vICAgICBuZXcgR2xpZGUoc2xpZGVyQ29udGFpbmVyLCB7XG4gIC8vICAgICB0eXBlOiAnc2xpZGVyJyxcbiAgLy8gICAgIGF1dG9wbGF5OiA4MDAwLFxuICAvLyAgICAga2V5Ym9yZDogdHJ1ZSxcbiAgLy8gICAgIGhvdmVycGF1c2U6IHRydWUsXG4gIC8vICAgICByZXdpbmQ6IHRydWUsXG4gIC8vICAgICByZXdpbmREdXJhdGlvbjogMTAwMCxcbiAgLy8gICAgIGFuaW1hdGlvblRpbWluZ0Z1bmM6ICdib3VuY2UnXG4gIC8vIH0pLm1vdW50KCk7XG4gIC8vIH1cblxuXG4gIGlmIChzbGlkZXJDb250YWluZXIpIHtcbiAgICB2YXIgbXlTd2lwZXIgPSBuZXcgU3dpcGVyKCcuc3dpcGVyLWNvbnRhaW5lcicsIHtcbiAgICAgIGxvb3A6IHRydWUsXG4gICAgICBwYXJhbGxheDogdHJ1ZSxcbiAgICAgIGF1dG9wbGF5OiB7XG4gICAgICAgIGRlbGF5OiA1MDAwXG4gICAgICB9LFxuICAgICAgc3BlZWQ6IDEwMDAsXG4gICAgICBtb3VzZXdoZWVsQ29udHJvbDogdHJ1ZVxuICAgIH0pO1xuICAgIHZhciBzd2lwZXIgPSBuZXcgU3dpcGVyKCcuYmxvZy1zbGlkZXInLCB7XG4gICAgICBzcGFjZUJldHdlZW46IDMwLFxuICAgICAgZWZmZWN0OiAnZmFkZScsXG4gICAgICBsb29wOiB0cnVlLFxuICAgICAgZ3JhYkN1cnNvcjogdHJ1ZSxcbiAgICAgIGF1dG9wbGF5OiB7XG4gICAgICAgIGRlbGF5OiAyMDAwXG4gICAgICB9LFxuICAgICAgLy8gYXV0b0hlaWdodDogdHJ1ZSxcbiAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgZWw6ICcuYmxvZy1zbGlkZXJfX3BhZ2luYXRpb24nLFxuICAgICAgICBjbGlja2FibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChtYXBDb250YWluZXIpIHtcbiAgICB2YXIgaW5pdCA9IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICB2YXIgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwibWFwXCIsIHtcbiAgICAgICAgY2VudGVyOiBbNDcuNTM5NiwgNDIuMDE1MV0sXG4gICAgICAgIGNvbnRyb2xzOiBbJ3R5cGVTZWxlY3RvcicsICdmdWxsc2NyZWVuQ29udHJvbCcsICdnZW9sb2NhdGlvbkNvbnRyb2wnLCAncnVsZXJDb250cm9sJywgJ3JvdXRlQnV0dG9uQ29udHJvbCddLFxuICAgICAgICB6b29tOiAxNlxuICAgICAgfSk7XG4gICAgICB2YXIgY29udHJvbCA9IG15TWFwLmNvbnRyb2xzLmdldCgncm91dGVCdXR0b25Db250cm9sJyk7XG4gICAgICBjb250cm9sLnJvdXRlUGFuZWwuc3RhdGUuc2V0KCdmcm9tJywgJ9Cg0L7QvNCw0L3QvtCy0YHQutCw0Y8g0YHQvtGO0LfQvdGL0LkgOTfQsCcpO1xuICAgICAgdmFyIG15UGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNDcuNTM5OCwgNDIuMDE1M10sIHtcbiAgICAgICAgaGludENvbnRlbnQ6ICfQo9C7LiDQodC+0Y7Qt9C90LDRjyA5N9CwJyxcbiAgICAgICAgYmFsbG9vbkNvbnRlbnQ6ICfQn9C+0LvQuNC60LvQuNC90LjQutCwJ1xuICAgICAgfSwge1xuICAgICAgICBwcmVzZXQ6ICdpc2xhbmRzI2JsdWVNZWRpY2FsSWNvbidcbiAgICAgIH0pO1xuICAgICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlQbGFjZW1hcmspO1xuICAgIH07XG5cbiAgICB5bWFwcy5yZWFkeShpbml0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFRpbWVGb290ZXIoKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgbW9udGg6ICdsb25nJyxcbiAgICAgIGRheTogJ251bWVyaWMnXG4gICAgfTtcbiAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWZvb3Rlci1pbmZvX19kYXRlJyk7XG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IGRhdGUudG9Mb2NhbGVTdHJpbmcoXCJydVwiLCBvcHRpb25zKTtcbiAgfSAvLyBIYW1idXJnZXJcblxuXG4gIHZhciB3cmFwcGVyTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyLW1lbnUnKTtcbiAgdmFyIHNpZGVuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lkZW5hdicpO1xuICB2YXIgb3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlbmF2LW92ZXJsYXknKTtcbiAgd3JhcHBlck1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgd3JhcHBlck1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnb3BlbicpO1xuICAgIHNpZGVuYXYuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdycpO1xuICAgIG92ZXJsYXkuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdycpO1xuICB9KTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGNvbnNvbGUubG9nKGUpO1xuXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2lkZW5hdi1vdmVybGF5JykpIHtcbiAgICAgIHdyYXBwZXJNZW51LmNsYXNzTGlzdC50b2dnbGUoJ29wZW4nKTtcbiAgICAgIHNpZGVuYXYuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdycpO1xuICAgICAgb3ZlcmxheS5jbGFzc0xpc3QudG9nZ2xlKCdzaG93Jyk7XG4gICAgfVxuICB9KTtcbiAgc2V0VGltZW91dChhZGRUaW1lRm9vdGVyLCAxMDApO1xuICBzZWFyY2hfdG9nZ2xlKCk7XG4gIG1vZGFsKCk7XG59KTsiXX0=
