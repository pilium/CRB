"use strict";

document.addEventListener("DOMContentLoaded", function () {
  // const search = {
  //     container: document.querySelector('.header-actions__search'),
  //     trigger: document.querySelector('.icon-magnifier-tool'),
  //     input: document.querySelector(".header-actions__search-input"),
  //     showClass: 'active'
  // }
  // const modal = {
  //     container: document.querySelector(".modal"),
  //     trigger: document.querySelector(".js-header-info__writeToUs-link"),
  //     input: document.querySelector(".modal-user__login-input"),
  //     close: document.querySelector(".modal-close__btn"),
  //     showClass: 'modal-show'
  // }
  // console.log(search);
  // console.log(modal);
  var container = document.querySelector('.header-actions__search');
  var search = container.querySelector('.icon-magnifier-tool');
  var input = container.querySelector("[type=text]");
  var link = document.querySelector(".js-header-info__writeToUs-link");
  var popup = document.querySelector(".modal");
  var close = popup.querySelector(".modal-close__btn");
  var login = popup.querySelector("[name=login]"); // function toggle_class(trigger, container, input, showClass) {
  //     trigger.addEventListener('click', function () {
  //         container.classList.toggle(showClass);
  //         if (input) {
  //             input.focus();
  //         }
  //     })
  //     document.addEventListener("keydown", function (event) {
  //         if (event.keyCode == 27) {
  //             if (container.classList.contains(showClass)) {
  //                 container.classList.remove(showClass);
  //             }
  //         }
  //     });
  //     document.addEventListener('click', (e) => {
  //         e.preventDefault()
  //         let target = e.target;
  //         let its_container = target == container || container.contains(target);
  //         let search_is_active = container.classList.contains(showClass);
  //         if (!its_container && search_is_active) {
  //             container.classList.toggle(showClass);
  //         }
  //     })
  // }
  // toggle_class(search.trigger, search.container, search.input,search.showClass);
  // toggle_class(modal.trigger, modal.container, modal.input,modal.showClass);

  var search_toggle = function search_toggle() {
    search.addEventListener('click', function () {
      toggle_search_class();
      input.focus();
    });
    document.addEventListener("keydown", function (event) {
      if (event.keyCode == 27) {
        if (container.classList.contains("active")) {
          container.classList.remove("active");
        }
      }
    });
    document.addEventListener('click', function (e) {
      var target = e.target;
      var its_container = target == container || container.contains(target);
      var search_is_active = container.classList.contains('active');

      if (!its_container && search_is_active) {
        toggle_search_class();
      }
    });

    var toggle_search_class = function toggle_search_class() {
      container.classList.toggle('active');
    };
  };

  var modal = function modal() {
    link.addEventListener("click", function (event) {
      event.preventDefault();
      popup.classList.toggle("modal-show");
      login.focus();
    });
    close.addEventListener("click", function (event) {
      event.preventDefault();
      popup.classList.remove("modal-show");
    });
  };

  search_toggle();
  modal();
  new Glide('.main-slider', {
    type: 'slider',
    autoplay: 8000,
    keybord: true,
    hoverpause: true,
    rewind: true,
    rewindDuration: 1000,
    animationTimingFunc: 'cubic-bezier(0.665, 0.340, 0.740, 1.000)'
  }).mount();

  function init() {
    var myMap = new ymaps.Map("map", {
      center: [47.5396, 42.0151],
      controls: ['typeSelector', 'fullscreenControl', 'geolocationControl', 'rulerControl', 'routeButtonControl'],
      zoom: 16
    });
    var control = myMap.controls.get('routeButtonControl');
    control.routePanel.state.set('from', 'Романовская союзный 97а');
    var myPlacemark = new ymaps.Placemark([47.5398, 42.0153], {
      hintContent: 'Ул. Союзная 97а',
      balloonContent: 'Поликлиника'
    }, {
      preset: 'islands#blueMedicalIcon'
    });
    myMap.geoObjects.add(myPlacemark);
  }

  ymaps.ready(init);

  function addTimeFooter() {
    var date = new Date();
    var options = {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
      weekday: 'long'
    };
    var container = document.querySelector('.footer-date');
    container.innerHTML = date.toLocaleString("ru", options);
  }

  setTimeout(addTimeFooter, 100);
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xuICAvLyBjb25zdCBzZWFyY2ggPSB7XG4gIC8vICAgICBjb250YWluZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItYWN0aW9uc19fc2VhcmNoJyksXG4gIC8vICAgICB0cmlnZ2VyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaWNvbi1tYWduaWZpZXItdG9vbCcpLFxuICAvLyAgICAgaW5wdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyLWFjdGlvbnNfX3NlYXJjaC1pbnB1dFwiKSxcbiAgLy8gICAgIHNob3dDbGFzczogJ2FjdGl2ZSdcbiAgLy8gfVxuICAvLyBjb25zdCBtb2RhbCA9IHtcbiAgLy8gICAgIGNvbnRhaW5lcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbFwiKSxcbiAgLy8gICAgIHRyaWdnZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtaGVhZGVyLWluZm9fX3dyaXRlVG9Vcy1saW5rXCIpLFxuICAvLyAgICAgaW5wdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtdXNlcl9fbG9naW4taW5wdXRcIiksXG4gIC8vICAgICBjbG9zZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1jbG9zZV9fYnRuXCIpLFxuICAvLyAgICAgc2hvd0NsYXNzOiAnbW9kYWwtc2hvdydcbiAgLy8gfVxuICAvLyBjb25zb2xlLmxvZyhzZWFyY2gpO1xuICAvLyBjb25zb2xlLmxvZyhtb2RhbCk7XG4gIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLWFjdGlvbnNfX3NlYXJjaCcpO1xuICB2YXIgc2VhcmNoID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5pY29uLW1hZ25pZmllci10b29sJyk7XG4gIHZhciBpbnB1dCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiW3R5cGU9dGV4dF1cIik7XG4gIHZhciBsaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1oZWFkZXItaW5mb19fd3JpdGVUb1VzLWxpbmtcIik7XG4gIHZhciBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxcIik7XG4gIHZhciBjbG9zZSA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY2xvc2VfX2J0blwiKTtcbiAgdmFyIGxvZ2luID0gcG9wdXAucXVlcnlTZWxlY3RvcihcIltuYW1lPWxvZ2luXVwiKTsgLy8gZnVuY3Rpb24gdG9nZ2xlX2NsYXNzKHRyaWdnZXIsIGNvbnRhaW5lciwgaW5wdXQsIHNob3dDbGFzcykge1xuICAvLyAgICAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgLy8gICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZShzaG93Q2xhc3MpO1xuICAvLyAgICAgICAgIGlmIChpbnB1dCkge1xuICAvLyAgICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAvLyAgICAgICAgIH1cbiAgLy8gICAgIH0pXG4gIC8vICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgLy8gICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAyNykge1xuICAvLyAgICAgICAgICAgICBpZiAoY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucyhzaG93Q2xhc3MpKSB7XG4gIC8vICAgICAgICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShzaG93Q2xhc3MpO1xuICAvLyAgICAgICAgICAgICB9XG4gIC8vICAgICAgICAgfVxuICAvLyAgICAgfSk7XG4gIC8vICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gIC8vICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIC8vICAgICAgICAgbGV0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAvLyAgICAgICAgIGxldCBpdHNfY29udGFpbmVyID0gdGFyZ2V0ID09IGNvbnRhaW5lciB8fCBjb250YWluZXIuY29udGFpbnModGFyZ2V0KTtcbiAgLy8gICAgICAgICBsZXQgc2VhcmNoX2lzX2FjdGl2ZSA9IGNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoc2hvd0NsYXNzKTtcbiAgLy8gICAgICAgICBpZiAoIWl0c19jb250YWluZXIgJiYgc2VhcmNoX2lzX2FjdGl2ZSkge1xuICAvLyAgICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZShzaG93Q2xhc3MpO1xuICAvLyAgICAgICAgIH1cbiAgLy8gICAgIH0pXG4gIC8vIH1cbiAgLy8gdG9nZ2xlX2NsYXNzKHNlYXJjaC50cmlnZ2VyLCBzZWFyY2guY29udGFpbmVyLCBzZWFyY2guaW5wdXQsc2VhcmNoLnNob3dDbGFzcyk7XG4gIC8vIHRvZ2dsZV9jbGFzcyhtb2RhbC50cmlnZ2VyLCBtb2RhbC5jb250YWluZXIsIG1vZGFsLmlucHV0LG1vZGFsLnNob3dDbGFzcyk7XG5cbiAgdmFyIHNlYXJjaF90b2dnbGUgPSBmdW5jdGlvbiBzZWFyY2hfdG9nZ2xlKCkge1xuICAgIHNlYXJjaC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRvZ2dsZV9zZWFyY2hfY2xhc3MoKTtcbiAgICAgIGlucHV0LmZvY3VzKCk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAyNykge1xuICAgICAgICBpZiAoY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSkge1xuICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgdmFyIGl0c19jb250YWluZXIgPSB0YXJnZXQgPT0gY29udGFpbmVyIHx8IGNvbnRhaW5lci5jb250YWlucyh0YXJnZXQpO1xuICAgICAgdmFyIHNlYXJjaF9pc19hY3RpdmUgPSBjb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKTtcblxuICAgICAgaWYgKCFpdHNfY29udGFpbmVyICYmIHNlYXJjaF9pc19hY3RpdmUpIHtcbiAgICAgICAgdG9nZ2xlX3NlYXJjaF9jbGFzcygpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHRvZ2dsZV9zZWFyY2hfY2xhc3MgPSBmdW5jdGlvbiB0b2dnbGVfc2VhcmNoX2NsYXNzKCkge1xuICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIG1vZGFsID0gZnVuY3Rpb24gbW9kYWwoKSB7XG4gICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcG9wdXAuY2xhc3NMaXN0LnRvZ2dsZShcIm1vZGFsLXNob3dcIik7XG4gICAgICBsb2dpbi5mb2N1cygpO1xuICAgIH0pO1xuICAgIGNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWwtc2hvd1wiKTtcbiAgICB9KTtcbiAgfTtcblxuICBzZWFyY2hfdG9nZ2xlKCk7XG4gIG1vZGFsKCk7XG4gIG5ldyBHbGlkZSgnLm1haW4tc2xpZGVyJywge1xuICAgIHR5cGU6ICdzbGlkZXInLFxuICAgIGF1dG9wbGF5OiA4MDAwLFxuICAgIGtleWJvcmQ6IHRydWUsXG4gICAgaG92ZXJwYXVzZTogdHJ1ZSxcbiAgICByZXdpbmQ6IHRydWUsXG4gICAgcmV3aW5kRHVyYXRpb246IDEwMDAsXG4gICAgYW5pbWF0aW9uVGltaW5nRnVuYzogJ2N1YmljLWJlemllcigwLjY2NSwgMC4zNDAsIDAuNzQwLCAxLjAwMCknXG4gIH0pLm1vdW50KCk7XG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB2YXIgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwibWFwXCIsIHtcbiAgICAgIGNlbnRlcjogWzQ3LjUzOTYsIDQyLjAxNTFdLFxuICAgICAgY29udHJvbHM6IFsndHlwZVNlbGVjdG9yJywgJ2Z1bGxzY3JlZW5Db250cm9sJywgJ2dlb2xvY2F0aW9uQ29udHJvbCcsICdydWxlckNvbnRyb2wnLCAncm91dGVCdXR0b25Db250cm9sJ10sXG4gICAgICB6b29tOiAxNlxuICAgIH0pO1xuICAgIHZhciBjb250cm9sID0gbXlNYXAuY29udHJvbHMuZ2V0KCdyb3V0ZUJ1dHRvbkNvbnRyb2wnKTtcbiAgICBjb250cm9sLnJvdXRlUGFuZWwuc3RhdGUuc2V0KCdmcm9tJywgJ9Cg0L7QvNCw0L3QvtCy0YHQutCw0Y8g0YHQvtGO0LfQvdGL0LkgOTfQsCcpO1xuICAgIHZhciBteVBsYWNlbWFyayA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoWzQ3LjUzOTgsIDQyLjAxNTNdLCB7XG4gICAgICBoaW50Q29udGVudDogJ9Cj0LsuINCh0L7RjtC30L3QsNGPIDk30LAnLFxuICAgICAgYmFsbG9vbkNvbnRlbnQ6ICfQn9C+0LvQuNC60LvQuNC90LjQutCwJ1xuICAgIH0sIHtcbiAgICAgIHByZXNldDogJ2lzbGFuZHMjYmx1ZU1lZGljYWxJY29uJ1xuICAgIH0pO1xuICAgIG15TWFwLmdlb09iamVjdHMuYWRkKG15UGxhY2VtYXJrKTtcbiAgfVxuXG4gIHltYXBzLnJlYWR5KGluaXQpO1xuXG4gIGZ1bmN0aW9uIGFkZFRpbWVGb290ZXIoKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgbW9udGg6ICdsb25nJyxcbiAgICAgIGRheTogJ251bWVyaWMnLFxuICAgICAgd2Vla2RheTogJ2xvbmcnXG4gICAgfTtcbiAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3Rlci1kYXRlJyk7XG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IGRhdGUudG9Mb2NhbGVTdHJpbmcoXCJydVwiLCBvcHRpb25zKTtcbiAgfVxuXG4gIHNldFRpbWVvdXQoYWRkVGltZUZvb3RlciwgMTAwKTtcbn0pOyJdfQ==
