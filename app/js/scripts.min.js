"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}document.addEventListener("DOMContentLoaded",function(){function t(){m.classList.add("is-active"),p.classList.add("is-show")}function e(){var t=new Date,e={year:"numeric",month:"long",day:"numeric"};document.querySelector(".js-footer-info__date").innerHTML=t.toLocaleString("ru",e)}function n(){window.scrollY>=w?(document.body.style.paddingTop=l.offsetHeight+"px",l.classList.add("fixed-nav")):(l.classList.remove("fixed-nav"),document.body.style.paddingTop=0)}function i(){if(S.classList.contains("starblind")){var t=_toConsumableArray(E.querySelectorAll("button")),e=E.querySelector(".blind-fontSize--low"),n=E.querySelector(".blind-fontSize--normal"),i=E.querySelector(".blind-fontSize--big"),o=document.querySelector("html"),s=window.getComputedStyle(o,null).getPropertyValue("font-size"),r=parseFloat(s);t.forEach(function(e){e.addEventListener("click",function(){t.filter(function(t){return e.getAttribute("data-group")==t.getAttribute("data-group")}).map(function(t){S.classList.remove(t.getAttribute("data-test"))}),e.hasAttribute("data-test")&&S.classList.add(e.getAttribute("data-test"))})}),e.onclick=function(){o.style.fontSize=r-2+"px"},n.onclick=function(){o.style.fontSize=r+"px"},i.onclick=function(){o.style.fontSize=r+6+"px"}}}var o=document.querySelector(".wrapper-menu"),s=document.querySelector(".js-sidenav"),r=document.querySelector(".sidenav-overlay"),c=document.getElementsByClassName("acc-header"),a=document.querySelector(".gallery"),l=document.querySelector("#nav-main"),u=document.querySelector(".js-header-info__writeToUs-link"),d=document.querySelector(".modal"),f=d.querySelector(".modal-close__btn"),g=document.querySelector(".modal-overlay"),m=document.querySelector(".modal--alert"),v=document.querySelector(".modal--alert__close"),p=document.querySelector(".modal--alert__background");m&&setTimeout(function(){t()},2e3);!function(){u.addEventListener("click",function(t){t.preventDefault(),d.classList.toggle("modal-show"),g.classList.toggle("show")}),f.addEventListener("click",function(t){t.preventDefault(),d.classList.remove("modal-show"),g.classList.toggle("show")}),document.addEventListener("click",function(t){t.target.classList.contains("modal-overlay")&&(d.classList.remove("modal-show"),g.classList.toggle("show"))})}();m&&function(){v.addEventListener("click",function(t){t.preventDefault(),m.classList.toggle("is-active"),p.classList.toggle("is-show")}),document.addEventListener("click",function(t){t.target.classList.contains("modal--alert__background")&&(m.classList.remove("is-active"),p.classList.toggle("is-show"))})}(),setTimeout(e,100),o&&o.addEventListener("click",function(){o.classList.toggle("open"),s.classList.toggle("show"),r.classList.toggle("show")}),document.addEventListener("click",function(t){t.target.classList.contains("sidenav-overlay")&&(o.classList.toggle("open"),s.classList.toggle("show"),r.classList.toggle("show"))});for(var y=0;y<c.length;y++)c[y].addEventListener("click",function(t){t.preventDefault(),this.classList.toggle("active"),this.nextElementSibling.classList.toggle("active")});!function(){for(var t=document.querySelectorAll(".material-card > .mc-btn-action"),e=0;e<t.length;e++)t[e].addEventListener("click",function(){var t=this.parentNode,e=this.querySelector("i");e.classList.add("fa-spin-fast"),t.classList.contains("mc-active")?(t.classList.remove("mc-active"),setTimeout(function(){e.classList.remove("fa-arrow-left"),e.classList.remove("fa-spin-fast"),e.classList.add("fa-bars")},800)):(t.classList.add("mc-active"),setTimeout(function(){e.classList.remove("fa-bars"),e.classList.remove("fa-spin-fast"),e.classList.add("fa-arrow-left")},800))})}(),a&&baguetteBox.run(".gallery-wrap",{async:!0});var w=l.offsetTop;window.addEventListener("scroll",n);for(var L=document.querySelectorAll(".fixed-width"),b=0;b<L.length;b++)!function(t){L[t].addEventListener("keyup",function(e){if(13===e.keyCode){var n=L[t].querySelector(".menu");L[t].classList.toggle("fixed-width--show"),n.addEventListener("blur",function(){n.style.display="none"})}})}(b);var h=document.querySelector(".js-starblind-trigger"),S=document.querySelector(".main-wrapper"),E=document.querySelector(".js-blindHeaderPanel");if(!localStorage.getItem("blindClasses")){var k=["font1","kerning1","color1"],q=JSON.stringify(k);localStorage.setItem("blindClasses",q);for(var j=0;j<k.length;j++)S.classList.add(k[j])}h.addEventListener("click",function(){E.classList.toggle("blindHeaderPanel--show"),S.classList.toggle("starblind"),i()})}),document.addEventListener("DOMContentLoaded",function(){var t=[].slice.call(document.querySelectorAll(".lazy-img")),e=!1,n=function n(){!1===e&&(e=!0,setTimeout(function(){t.forEach(function(e){e.getBoundingClientRect().top<=window.innerHeight&&e.getBoundingClientRect().bottom>=0&&"none"!==getComputedStyle(e).display&&(e.src=e.dataset.src,e.classList.remove("lazy"),t=t.filter(function(t){return t!==e}),0===t.length&&(document.removeEventListener("scroll",n),window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)))}),e=!1},200))};document.addEventListener("scroll",n),window.addEventListener("resize",n),window.addEventListener("orientationchange",n)}),function(){function t(){var t=window.scrollY||document.documentElement.scrollTop;t>r?i(s,"cd-top--show"):o(s,"cd-top--show","cd-top--fade-out"),t>c&&i(s,"cd-top--fade-out"),a=!1}function e(t){var e=window.scrollY||document.documentElement.scrollTop,n=null,i=function i(o){n||(n=o);var s=o-n,r=Math.max(Math.easeInOutQuad(s,e,-e,t),0);window.scrollTo(0,r),s<t&&window.requestAnimationFrame(i)};window.requestAnimationFrame(i)}function n(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)".concat(e,"(\\s|$)")))}function i(t,e){var o=e.split(" ");t.classList?t.classList.add(o[0]):n(t,o[0])||(t.className+=" ".concat(o[0])),o.length>1&&i(t,o.slice(1).join(" "))}function o(t,e){var i=e.split(" ");if(t.classList)t.classList.remove(i[0]);else if(n(t,i[0])){var s=new RegExp("(\\s|^)".concat(i[0],"(\\s|$)"));t.className=t.className.replace(s," ")}i.length>1&&o(t,i.slice(1).join(" "))}var s=document.getElementsByClassName("js-cd-top")[0],r=300,c=1200,a=!1;s&&(window.addEventListener("scroll",function(){a||(a=!0,window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,250))}),s.addEventListener("click",function(t){t.preventDefault(),window.requestAnimationFrame?e(700):window.scrollTo(0,0)})),Math.easeInOutQuad=function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e)}}();var objectFitImages=function(){function t(t,e){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+t+"' height='"+e+"'%3E%3C/svg%3E"}function e(t){if(t.srcset&&!m&&window.picturefill){var e=window.picturefill._;t[e.ns]&&t[e.ns].evaled||e.fillImg(t,{reselect:!0}),t[e.ns].curSrc||(t[e.ns].supported=!1,e.fillImg(t,{reselect:!0})),t.currentSrc=t[e.ns].curSrc||t.src}}function n(t){for(var e,n=getComputedStyle(t).fontFamily,i={};null!==(e=l.exec(n));)i[e[1]]=e[2];return i}function i(e,n,i){var o=t(n||1,i||0);v.call(e,"src")!==o&&p.call(e,"src",o)}function o(t,e){t.naturalWidth?e(t):setTimeout(o,100,t,e)}function s(t){var s=n(t),c=t[a];if(s["object-fit"]=s["object-fit"]||"fill",!c.img){if("fill"===s["object-fit"])return;if(!c.skipTest&&d&&!s["object-position"])return}if(!c.img){c.img=new Image(t.width,t.height),c.img.srcset=v.call(t,"data-ofi-srcset")||t.srcset,c.img.src=v.call(t,"data-ofi-src")||t.src,p.call(t,"data-ofi-src",t.src),t.srcset&&p.call(t,"data-ofi-srcset",t.srcset),i(t,t.naturalWidth||t.width,t.naturalHeight||t.height),t.srcset&&(t.srcset="");try{r(t)}catch(t){window.console&&console.warn("https://bit.ly/ofi-old-browser")}}e(c.img),t.style.backgroundImage='url("'+(c.img.currentSrc||c.img.src).replace(/"/g,'\\"')+'")',t.style.backgroundPosition=s["object-position"]||"center",t.style.backgroundRepeat="no-repeat",t.style.backgroundOrigin="content-box",/scale-down/.test(s["object-fit"])?o(c.img,function(){c.img.naturalWidth>t.width||c.img.naturalHeight>t.height?t.style.backgroundSize="contain":t.style.backgroundSize="auto"}):t.style.backgroundSize=s["object-fit"].replace("none","auto").replace("fill","100% 100%"),o(c.img,function(e){i(t,e.naturalWidth,e.naturalHeight)})}function r(t){var e={get:function(e){return t[a].img[e||"src"]},set:function(e,n){return t[a].img[n||"src"]=e,p.call(t,"data-ofi-"+n,e),s(t),e}};Object.defineProperty(t,"src",e),Object.defineProperty(t,"currentSrc",{get:function(){return e.get("currentSrc")}}),Object.defineProperty(t,"srcset",{get:function(){return e.get("srcset")},set:function(t){return e.set(t,"srcset")}})}function c(t,e){var n=!y&&!t;if(e=e||{},t=t||"img",f&&!e.skipTest||!g)return!1;"img"===t?t=document.getElementsByTagName("img"):"string"==typeof t?t=document.querySelectorAll(t):"length"in t||(t=[t]);for(var i=0;i<t.length;i++)t[i][a]=t[i][a]||{skipTest:e.skipTest},s(t[i]);n&&(document.body.addEventListener("load",function(t){"IMG"===t.target.tagName&&c(t.target,{skipTest:e.skipTest})},!0),y=!0,t="img"),e.watchMQ&&window.addEventListener("resize",c.bind(null,t,{skipTest:e.skipTest}))}var a="bfred-it:object-fit-images",l=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,u="undefined"==typeof Image?{style:{"object-position":1}}:new Image,d="object-fit"in u.style,f="object-position"in u.style,g="background-size"in u.style,m="string"==typeof u.currentSrc,v=u.getAttribute,p=u.setAttribute,y=!1;return c.supportsObjectFit=d,c.supportsObjectPosition=f,function(){function t(t,e){return t[a]&&t[a].img&&("src"===e||"srcset"===e)?t[a].img:t}f||(HTMLImageElement.prototype.getAttribute=function(e){return v.call(t(this,e),e)},HTMLImageElement.prototype.setAttribute=function(e,n){return p.call(t(this,e),e,String(n))})}(),c}();