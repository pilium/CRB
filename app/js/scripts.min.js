"use strict";

var container = document.querySelector('.header-actions__search');
var search = container.querySelector('.icon-magnifier-tool');
var input = container.querySelector("[type=text]");

var toggle_search_class = function toggle_search_class() {
  container.classList.toggle('active');
};

var search_toggle = function search_toggle() {
  search.addEventListener('click', function () {
    toggle_search_class();
    input.focus();
  });
  document.addEventListener("keydown", function (event) {
    if (event.keyCode == 27) {
      if (container.classList.contains("active")) {
        container.classList.remove("active");
      }
    }
  });
  document.addEventListener('click', function (e) {
    var target = e.target;
    var its_container = target == container || container.contains(target);
    var search_is_active = container.classList.contains('active');

    if (!its_container && search_is_active) {
      toggle_search_class();
    }
  });
};

search_toggle();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1hY3Rpb25zX19zZWFyY2gnKTtcbnZhciBzZWFyY2ggPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmljb24tbWFnbmlmaWVyLXRvb2wnKTtcbnZhciBpbnB1dCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiW3R5cGU9dGV4dF1cIik7XG5cbnZhciB0b2dnbGVfc2VhcmNoX2NsYXNzID0gZnVuY3Rpb24gdG9nZ2xlX3NlYXJjaF9jbGFzcygpIHtcbiAgY29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xufTtcblxudmFyIHNlYXJjaF90b2dnbGUgPSBmdW5jdGlvbiBzZWFyY2hfdG9nZ2xlKCkge1xuICBzZWFyY2guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgdG9nZ2xlX3NlYXJjaF9jbGFzcygpO1xuICAgIGlucHV0LmZvY3VzKCk7XG4gIH0pO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAyNykge1xuICAgICAgaWYgKGNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICB2YXIgaXRzX2NvbnRhaW5lciA9IHRhcmdldCA9PSBjb250YWluZXIgfHwgY29udGFpbmVyLmNvbnRhaW5zKHRhcmdldCk7XG4gICAgdmFyIHNlYXJjaF9pc19hY3RpdmUgPSBjb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKTtcblxuICAgIGlmICghaXRzX2NvbnRhaW5lciAmJiBzZWFyY2hfaXNfYWN0aXZlKSB7XG4gICAgICB0b2dnbGVfc2VhcmNoX2NsYXNzKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbnNlYXJjaF90b2dnbGUoKTsiXX0=
